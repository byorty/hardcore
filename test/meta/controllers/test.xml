<?xml version="1.0"?>
<configuration>
    <controllers package="controllers.api" path="/api">
        <controller name="Post" path="/post">
            <actions>
                <action name="List">
                    <params>
                        <param name="page" type="int" required="false" from="query"/>
                        <param name="search" type="string" required="false" from="query"/>
                    </params>
                    <return>types.EncodeView</return>
                </action>
                <action name="View" path="/{post:([0-9]+)}">
                    <params>
                        <param name="post" type="models.Post" required="true" from="path"/>
                    </params>
                    <return>types.EncodeView</return>
                </action>
                <action name="Edit" path="/{post:([0-9]+)}" method="POST">
                    <params>
                        <param name="form"/>
                        <param name="post" type="models.Post" required="true" from="path"/>
                        <param name="name" type="string" required="true" from="form"/>
                        <param name="description" type="string" required="true" from="form"/>
                    </params>
                    <return>types.EncodeView</return>
                </action>
            </actions>
        </controller>
        <controller name="User" path="/user">
            <actions>
                <action name="List">
                    <params>
                        <param name="page" type="int"/>
                    </params>
                </action>
            </actions>
        </controller>
    </controllers>
</configuration>
