<?xml version="1.0"?>
<configuration>
    <models package="models">

        <model name="User" source="default">
            <properties>
                <identifier/>
                <property name="email" type="string" size="64" required="true"/>
                <property name="password" type="string" size="32" required="true"/>
                <property name="role" type="models.UserRole" required="true" relation="OneToOne"/>
                <property name="registerDate" type="time.Time" required="false"/>

                <property name="posts" type="models.Post" required="true" relation="OneToMany"/>
            </properties>
            <pattern>StraightMapping</pattern>
        </model>

        <model name="Post" source="default">
            <properties>
                <identifier/>
                <property name="user" type="models.User" required="true" relation="OneToOne"/>
                <property name="name" type="string" required="true"/>
                <property name="description" type="string" required="true"/>
            </properties>
            <pattern>StraightMapping</pattern>
        </model>

        <enum name="UserRole">
            <constants>
                <constant name="LoggedUserRole">User</constant>
                <constant name="LoggedAdminRole">Admin</constant>
            </constants>
        </enum>
    </models>
    <exporters package="exporters">

        <exporter name="User" source="models.User">
            <properties>
                <property name="id"/>
                <property name="email"/>
                <property name="role"/>
                <property name="registerDate"/>
            </properties>
        </exporter>

        <exporter name="Post" source="models.Post">
            <properties>
                <property name="id"/>
                <property name="name"/>
                <property name="description"/>
            </properties>
        </exporter>
    </exporters>
</configuration>
